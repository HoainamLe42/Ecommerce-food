import{r as l,k as o,j as e,l as p,a as m,f as d,m as j,A as N}from"./index-DeSNbSPC.js";const g=()=>{const[a,c]=l.useState([]),[r,i]=l.useState(!0),x=o(),h=s=>{x(`/admin/orders/${s}`)};return l.useEffect(()=>{(async()=>{try{const t=await fetch(`${N}/orders`);if(!t.ok)throw new Error(`HTTP lỗi! status: ${t.status}`);const n=await t.json();c(n)}catch(t){console.error("Lỗi HTTP",t)}finally{i(!1)}})()},[]),e.jsx(p,{children:r?e.jsx(m,{}):e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold my-4",children:"Quản lý đơn hàng"}),e.jsxs("div",{className:"grid grid-cols-2 gap-5 mb-4",children:[e.jsxs("div",{className:"p-5 bg-blue-400 text-white rounded-md",children:[e.jsx("h3",{className:"uppercase font-semibold mb-1",children:"ĐƠN HÀNG MỚI"}),e.jsxs("p",{children:["Tổng đơn hàng: ",e.jsx("span",{children:"2"})]}),e.jsxs("p",{children:["Tổng tiền: ",e.jsx("span",{children:d(5e5)})]})]}),e.jsxs("div",{className:"p-5 bg-blue-600 text-white rounded-md",children:[e.jsx("h3",{className:"uppercase font-semibold mb-1",children:"TỔNG ĐƠN HÀNG"}),e.jsxs("p",{children:["Tổng đơn hàng:"," ",e.jsx("span",{children:a.map(s=>s).length})]}),e.jsxs("p",{children:["Tổng tiền:"," ",e.jsx("span",{className:"font-semibold text-lg",children:d(a.reduce((s,t)=>s+=t.total,0))})]})]})]}),e.jsx("div",{className:"overflow-x-auto border rounded",children:e.jsxs("table",{className:"min-w-full bg-white border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b",children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Mã đơn"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Ngày đặt"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Khách hàng"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Số sản phẩm"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Tổng tiền"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Thanh toán"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Trạng thái"})]})}),e.jsx("tbody",{children:a==null?void 0:a.map(s=>e.jsxs("tr",{className:"border-b",children:[e.jsxs("td",{className:"px-4 py-2 cursor-pointer font-semibold",onClick:()=>h(s.id),children:["#",s.id]}),e.jsx("td",{className:"px-4 py-2",children:j(s.date)}),e.jsx("td",{className:"px-4 py-2",children:s.userId}),e.jsx("td",{className:"px-4 py-2",children:s.items.reduce((t,n)=>t+=n.quantity,0)}),e.jsx("td",{className:"px-4 py-2t",children:d(s.total)}),e.jsx("td",{className:"px-4 py-2",children:s.paymentMethod}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("select",{className:"border px-2 py-1 rounded",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Delivered",children:"Delivered"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})})]},s.id))})]})})]})})};export{g as default};
