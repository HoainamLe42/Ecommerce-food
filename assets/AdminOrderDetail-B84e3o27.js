import{h,r as n,j as e,l as m,a as p,m as y,f as c,A as j}from"./index-DeSNbSPC.js";const g=()=>{const{id:d}=h(),[s,o]=n.useState(null),[i,l]=n.useState(!1);return n.useEffect(()=>{(async()=>{try{l(!0);const a=await fetch(`${j}/orders?id=${d}`);if(!a.ok)throw new Error(`HTTP lỗi! status: ${a.status}`);const r=await a.json();if(r.length===0){console.error("Không tìm thấy đơn hàng");return}o(r)}catch(a){console.error("Lỗi HTTP",a)}finally{l(!1)}})()},[]),e.jsx(m,{children:i?e.jsx(p,{}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-bold bg-white my-4",children:["ID:"," ",e.jsx("span",{className:"text-secondary-text",children:d})]}),e.jsx("p",{className:"font-semibold",children:s==null?void 0:s.map(t=>y(t.date))})]}),e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"#"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Tên sản phẩm"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Giá"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Số lượng"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Tổng tiền"})]})}),e.jsx("tbody",{children:s==null?void 0:s.map(t=>{var a;return(a=t.items)==null?void 0:a.map((r,x)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center border border-gray-300 px-4 py-2",children:x+1}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:r.image,alt:"",className:"h-10 w-10 object-cover"}),e.jsx("p",{children:r.name})]})}),e.jsx("td",{className:"text-center border border-gray-300 px-4 py-2",children:c(r.price)}),e.jsx("td",{className:"text-center border border-gray-300 px-4 py-2",children:r.quantity}),e.jsx("td",{className:"border border-gray-300 text-center py-2 font-semibold",children:c(r.quantity*r.price)})]},r.id))})})]}),e.jsx("div",{className:"flex items-center justify-end my-4 mr-3 font-bold",children:e.jsxs("p",{children:["Tổng tiền:"," ",e.jsx("span",{className:"text-2xl",children:s==null?void 0:s.map(t=>c(t.total))})]})})]})})};export{g as default};
